{"version":3,"file":"index.js","mappings":"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","sources":["webpack://team-free-gutenberg-shortcode-block/./src/shortcode/blockIcon.js","webpack://team-free-gutenberg-shortcode-block/./src/shortcode/dynamicShortcode.js","webpack://team-free-gutenberg-shortcode-block/external window [\"wp\",\"element\"]","webpack://team-free-gutenberg-shortcode-block/webpack/bootstrap","webpack://team-free-gutenberg-shortcode-block/webpack/runtime/compat get default export","webpack://team-free-gutenberg-shortcode-block/webpack/runtime/define property getters","webpack://team-free-gutenberg-shortcode-block/webpack/runtime/hasOwnProperty shorthand","webpack://team-free-gutenberg-shortcode-block/webpack/runtime/make namespace object","webpack://team-free-gutenberg-shortcode-block/./src/index.js"],"sourcesContent":["const icons = {};\r\nicons.teamFree = <img src={TeamFreeGbScript.path + 'src/Admin/GutenbergBlock/src/wp-team-block.svg'}></img>\r\nexport default icons;","/**\r\n * Shortcode select component.\r\n */\r\n const { __ } = wp.i18n;\r\n const { Fragment } = wp.element;\r\n \r\n const DynamicShortcodeInput = ( { attributes : { shortcode, shortcodelist}, shortcodeUpdate } ) => (\r\n     <Fragment>\r\n         <div className=\"sptf_block_shortcode\">\r\n             <div className=\"sptf_block_shortcode_title\">\r\n                <img src={TeamFreeGbScript.path + 'src/Admin/GutenbergBlock/src/wp-team-block.svg'} />\r\n                <h4>{__('WP Team', 'wp-team')}</h4>\r\n             </div>\r\n             <p className=\"sptf_block_shortcode_text\">{__('Select a Team')}</p>\r\n            <select className=\"sptf-shortcode-selector\" onChange={e => shortcodeUpdate(e)} value={shortcode}>\r\n                <option value=\"0\">{__( '-- Select a Team --', 'wp-team' )}</option>\r\n                {shortcodelist.map(value => {\r\n                    return (\r\n                        <option value={`${value.id}`} key={value.id}>{`${value.title} (#${value.id})`}</option>\r\n                    )\r\n                })}\r\n            </select>\r\n         </div>\r\n     </Fragment>\r\n    );\r\n \r\n export default DynamicShortcodeInput;","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import icons from './shortcode/blockIcon';\r\nimport DynamicShortcodeInput from './shortcode/dynamicShortcode';\r\n\r\nconst { __ } = wp.i18n;\r\nconst { registerBlockType } = wp.blocks;\r\nconst { Fragment } = wp.element;\r\nconst ServerSideRender = wp.serverSideRender;\r\n\r\n/**\r\n * Register: aa Gutenberg Block.\r\n */\r\nregisterBlockType(\r\n    'team-free/shortcode',\r\n    {\r\n        title: __( 'WP Team', 'wp-team'),\r\n        description: __( 'Use WP Team to insert a team in your page', 'wp-team'),\r\n\t\ticon: icons.teamFree,\r\n\t\tcategory: 'common',\r\n\t\tsupports: {\r\n\t\t\thtml: false,\r\n\t\t},\r\n\t\tedit: props => {\r\n\t\t\tconst { attributes, setAttributes } = props;\r\n\r\n\t\t\tlet scriptLoad = ( shortcodeId ) => {\r\n\t\t\t\tlet spspBlockLoaded = false;\r\n\t\t\t\tlet spspBlockLoadedInterval = setInterval(function () {\r\n\t\t\t\t\tlet uniqId = jQuery(\"#sptp-\" + shortcodeId).parents().attr('id');\r\n\t\t\t\t\tif (document.getElementById(uniqId)) {\r\n\t\t\t\t\t\t//Actual functions goes here\r\n\t\t\t\t\t\tjQuery.getScript(TeamFreeGbScript.loodScript);\r\n\t\t\t\t\t\tspspBlockLoaded = true;\r\n\t\t\t\t\t\tuniqId = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (spspBlockLoaded) {\r\n\t\t\t\t\t\tclearInterval(spspBlockLoadedInterval);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( 0 == shortcodeId ) {\r\n\t\t\t\t\t\tclearInterval(spspBlockLoadedInterval);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\r\n\t\t\tlet updateShortcode = ( updateShortcode ) => {\r\n\t\t\t\tsetAttributes({shortcode: updateShortcode.target.value});\r\n\t\t\t}\r\n\r\n\t\t\tlet shortcodeUpdate = (e) => {\r\n\t\t\t\tupdateShortcode(e);\r\n\t\t\t\tlet shortcodeId = e.target.value;\r\n\t\t\t\tscriptLoad(shortcodeId);\t\r\n\t\t\t}\r\n\r\n\t\t\tdocument.addEventListener('readystatechange', event => {\r\n\t\t\t\tif (event.target.readyState === \"complete\") {\r\n\t\t\t\t\tlet shortcodeId = attributes.shortcode;\r\n\t\t\t\t\tscriptLoad(shortcodeId);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif ( attributes.shortcodelist.length === 0 ) {\r\n\t\t\t\treturn(\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<div className=\"sptf_block_shortcode\">\r\n\t\t\t\t\t\t\t<div className=\"sptf_block_shortcode_title\">\r\n\t\t\t\t\t\t\t\t<img src={TeamFreeGbScript.path + 'src/Admin/GutenbergBlock/src/wp-team-block.svg'} />\r\n\t\t\t\t\t\t\t\t<h4>{__('WP Team', 'wp-team')}</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p className=\"sptf_block_shortcode_text\">No team found. <a href={TeamFreeGbScript.url}>Create a team now!</a></p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t \t<DynamicShortcodeInput\r\n\t\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\t\tshortcodeUpdate={ shortcodeUpdate }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ServerSideRender\r\n\t\t\t\t\t\tblock=\"team-free/shortcode\"\r\n\t\t\t\t\t\tattributes={ attributes }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fragment>\r\n\t\t\t);\r\n\t\t},\r\n        save() {\r\n            // Rendering in PHP\r\n            return null;\r\n        },\r\n} );\r\n\r\n"],"names":["icons","teamFree","TeamFreeGbScript","path","__","wp","i18n","Fragment","element","DynamicShortcodeInput","attributes","shortcode","shortcodelist","shortcodeUpdate","e","map","value","id","title","registerBlockType","blocks","ServerSideRender","serverSideRender","description","icon","category","supports","html","edit","props","setAttributes","scriptLoad","shortcodeId","spspBlockLoaded","spspBlockLoadedInterval","setInterval","uniqId","jQuery","parents","attr","document","getElementById","getScript","loodScript","clearInterval","updateShortcode","target","addEventListener","event","readyState","length","url","save"],"sourceRoot":""}